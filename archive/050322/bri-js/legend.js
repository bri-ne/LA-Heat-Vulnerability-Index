// === Legend code ===//
/* Legend Function */


function getLegendTitle () {
  let titlehere = LegendTitle;
  return titlehere
}  
var legend = L.control({position: 'bottomright'});
    legend.onAdd = function (map) {
    let LegendTitle = "Legend"
    
    var div = L.DomUtil.create('div', 'info-legend');
    labels = [`<div class="legendTitle">${LegendTitle}</div><div class="legendBody">`],
    catlables = ['Most Vulnerable','Above-Average Vulnerability','City Average Vulnerability','Some Vulnerability','No Vulnerability'];
    categories = [5, 4, 3, 2, 1, 0]
    for (var i = 0; i < categories.length; i++) {

            div.innerHTML += 
            labels.push(
              //'<div style=" padding-bottom:0.5rem;padding-left: 25%; display: flex; flex-direction:row;">'+
              '<div>'+
              '<i class="circle" style=" color: white;background-color:' + getColorHVI(categories[i]) + '"></i> ' +
              '<i class="legendtext">'+ (catlables[i] ? catlables[i] : '') + '</i>'+
            '</div>'
            );

        }
        labels.push('</div>')    
        div.innerHTML = labels.join("");
    
    return div;
    };
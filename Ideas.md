# story map

## palette

#BD1324
#48639C
#FFE74C
#ffffff

## alt palette <--one  we are using 
#FFE74C y
#A10000 r 
#08415C  b
## start
panned out view of all census tract with tracts coloered by heat vulnerability score, 
- popup with facts about % green spcae, distance to hospital
- then open to let user explore

## story 
- highlight ten census tract that are grouped together, to take you through 

## features
- get direction button? (scretch goal)
- filter for priority for the overall vulnerability score
  - priority based on Q break 
  - saying it is a priority for intervention 
- blubr by legend about what quantile 

## layout 
- switch sides of sliders data table and story
- 

## potential functions needed
- choropleth
  - quantiles
- summary statistics table
- drop down menu, with
  - first etc quantiles, 
- direction button?
- filter


## data types & layers
- **heat vulnerability index** - *layer 1*
  - polygon
- **social vulnerability & physical vulnerabiltiy** - *layers 2 & 3*
  - each datas that make these up, tooltip or popup
- **community resources as point data** - *additional layer* 
  - **all as separate layers**
  
  - point, all binned to thier type of resource, e.g. "med assistance location", "cooling centers". 
  - includes name, address, and website
    - hospitals + urgent cares (medical assistance locations)
      - needs a little tlc for website urls 
    - emergency preparedness locations (schools mostly, publicly accesible and city owned)
      - probably all the same URL - LA County emergency preparedness 
    - cooling centers (libraries really)
      - good on urls 
    - parks & green centroids (own category)
      - 
    - public pools & spray grounds (own pools)

#  Functions 
## Map layers on/off *in side bar* **Aidan**
**two functions**
- heat vulnerability index
- social vulnerability
- physical vulnerabiltiy
- community resources on/of would turn all these on or off, then also turn them on separately
  - hospitals + urgent cares (medical assistance locations)
  - cooling centers (libraries really)
  - parks & green centroids (own category)
  - public pools & spray grounds (own pools)
  - emergency prep
  - **cluster these all oin one cluster marker group layer and change the coor of the specifc marker to match the resource, maybe**


## Map Layer Filters *in sidebar* **stretch goal**
- slider for priority areas **do we have data for this?** 
  - differnt quantile slider to filter to different layers or simply a key 
-~~ zoom to Find address or place~~
  - ~~find what mjumbe did for the school map~~
  - legend **bri**, change the colors **aidan & bri**

## Map tooltips and popouts *in leaflet*
- 
## Data table 
- intitializer funciton that shows data overview
  - motivation, cite our sources, take it for spin, zoom in to see how your neighborhood compares to the rest of the city. **<--- initialization function, also is called when the zoom level hits 9**
- then a filter to show data based on whatever layers are shown, maybe there an 'update table' button or something 
  - what ever the window is showing as summary stats, "HVI in this area is ____ which is __% higher than the city ave"
  - can be done for social and phys vul as well  
  - medhhinc, medage, pct nonwhite, social **i'm a dummy and this actually seems like a vieweport thing**
  - distance to nearest 5 resources, historical and projected temp difference, existing tree canopy percentage, potential tree canopy (what could be put in) **phys**
    - 
- do we want to be able to filter table contents by geofgraphic space? (**this seems like  stretch goal to me**)

## Other Features
- home, recenter the map button 
  - yess
- directions to or maybe distance to nearest resources
  - e.g. there are 2 commmunity resources wihtin half a mile from you, a spraygorund and a library that operates as a cooling center on extremem heat day. They're open from X to X. 
  - new phys vul, **several columns, for distance to nearest resourse, different kinds of resources**
  - Have the nearby community resources light up or popup, everything else disppears
  - maybe this is filter action where the only resources, and the only tracts that show are the ones that the point is located in or are near to



# Next Step Tasks 
- ~~skeleton of the page **bri**~~
- identify functions needed
- ~~prep data **aidan** ~~
- ~~load the layers~~ 
- figure out what data would be needed for priority areas
- find better basemap with street names and maybe sateilite, and maybe even strech goal option to switch basemap 
- find a way to limit panning, to bounding box
- figure out legend
- find colors for the polygon layers
- see if styling marker cluster is easy 
- add accordions within the data table popup
- there are nulls in parks taht need to be changes to empty strings or "no info" or something
let map = L.map('map').setView([34.0736417742618, -118.23598649280784], 11);
const cartopositron = 'https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png'
L.tileLayer(cartopositron, {
  attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.',
}).addTo(map);

/* === OUR DATA ON GITHUB === */
const coolingCenters = 'https://raw.githubusercontent.com/bri-ne/MUSA611-Final/main/data/DataForMap/coolingcenters.geojson'

function updateMap(url) {
  /*layerGroup.clearLayers();*/

  fetch(url)
  .then(resp => resp.json())
  .then(data => {
    var markersClust = new L.MarkerClusterGroup();
    L.geoJSON(data, {onEachFeature: function(feature) {
      var marker = L.marker([feature.geometry.coordinates[1], feature.geometry.coordinates[0]]);
      markersClust.addLayer(marker);
      
      }});
    markersClust.addTo(map);  
    });
}

updateMap(coolingCenters);